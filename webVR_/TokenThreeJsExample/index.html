<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebAR Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="asset/css/default.css"/>
</head>
<body>


<div id="easyAR">
    <div id="scanLine" class="none">
        <img src="asset/images/scan-line.png"/>
    </div>

    <div id="loadingWrap" class="none">
        <img class="loading-line" src="asset/images/loading-line.png"/>
        <div>
            <div class="loading-ani"></div>
            <div class="loading-ani"></div>
            <div class="loading-ani"></div>
            <div class="loading-ani"></div>
            <div class="loading-ani"></div>
        </div>
        <div class="loading-percent">loading... <span id="loadingPercent"></span></div>
    </div>
</div>
<div id='container' style="width:100%;height: 100%;position: absolute;z-index: 2;"></div>
<!--    这里注释掉，写到流程
<div class="footer">
    <select id="videoDevice"></select>
    <input type="button" value="打开/切换摄像头" id="openCamera"/>
    <input class="none" type="button" value="开始识别" id="start"/>
    <input class="none" type="button" value="停止识别" id="stop"/>
</div>
-->
<div class="footer">
    <input type="button" value="打开陀螺仪" id="controlBtn"/>
    <!--<input type="button" value="载入坦克" id="loadTank"/>-->
    <!--<input type="button" value="翻转坦克" id="changeTank">-->
</div>
<!--
<script type="text/javascript" src="asset/libs/three/three.min.js"></script>
<script type="text/javascript" src="asset/libs/three/FBXLoader.js"></script>
<script type="text/javascript" src="asset/libs/three/inflate.min.js"></script>
<script type="text/javascript" src="asset/libs/three/OrbitControls.js"></script>
-->
<script type="text/javascript" src="asset/libs/threeNew/three.min.js"></script>
<script type="text/javascript" src="asset/libs/threeNew/DeviceOrientationControls.js"></script>
<script type="text/javascript" src="asset/libs/threeNew/FBXLoader.js"></script>
<script type="text/javascript" src="asset/libs/threeNew/fflate.min.js"></script>
<script type="text/javascript" src="asset/libs/threeNew/OrbitControls.js"></script>
<script type="text/javascript" src="asset/js/frame.js"></script>
<script type="text/javascript" src="asset/js/ThreeHelper.js"></script>

<script type="text/javascript" src="../src/adapter.js"></script>
<script type="text/javascript" src="../src/vconsole.min.js"></script>
<script type="text/javascript" src="../src/webar.js"></script>
<script type="text/javascript" src="../src/app.js"></script>
<script>
    (function () {
        const vConsole = new VConsole();
        const e = document.createElement('script');
        e.setAttribute('src', `asset/js/app.js?t=${Date.now()}`);
        document.body.appendChild(e);
        /*
        document.querySelector('#loadTank').addEventListener("click", function(event){
            testFBX({keyCode:70});
        });*/
    })();

    window.document.onkeydown = testFBX;
    function testFBX(evt){
        evt = (evt) ? evt : window.event
        if (evt.keyCode) {
            if(evt.keyCode == 70){
                const setting = {
                //model: 'asset/model/trex_v3.fbx',
                //model: 'asset/model/ZTZ99A1.fbx',
                model: 'asset/model/ZTZ99A1_Anima.fbx',
                scale: 0.1,
                position: [0, 0, 0]
            };
            showModel(setting);
            }
        }
    }

</script>

</body>
</html>